server:
  port: 8101
spring:
  application:
    name: exchange-user
  config:
    import: "nacos:exchange-user.yaml"

  cloud:
    nacos:
      server-addr: 127.0.0.1:8848
      discovery:
        namespace: public
        group: DEFAULT_GROUP
      config:
        namespace: public
        group: DEFAULT_GROUP
  datasource:
    # Druid连接池配置
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/web3_exchange?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: root

    # 连接池配置
    druid:
     initial-size: 5
     min-idle: 5
     max-active: 20
     max-wait: 60000
     time-between-eviction-runs-millis: 60000
     min-evictable-idle-time-millis: 300000
     validation-query: SELECT 1
     test-while-idle: true
     test-on-borrow: false
     test-on-return: false
     pool-prepared-statements: true
     max-pool-prepared-statement-per-connection-size: 20
     filters: stat,wall,log4j
     use-global-data-source-stat: true
# MyBatis-Plus配置
mybatis-plus:
  # 支持通配符
  mapper-locations: classpath*:/mapper/**/*.xml
  # 实体类扫描
  type-aliases-package: com.example.user.entity
  # 全局配置
  global-config:
    db-config:
      # 主键策略：ASSIGN_ID（雪花算法）、AUTO（数据库自增）
      id-type: ASSIGN_ID
      # 表名前缀
      table-prefix: t_
      # 逻辑删除配置
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
      # 字段策略
      insert-strategy: not_null
      update-strategy: not_null
  # MyBatis原生配置
  configuration:
    # 开启驼峰命名
    map-underscore-to-camel-case: true
    # 日志实现
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    # 自动映射行为
    auto-mapping-behavior: full
    # 二级缓存
    cache-enabled: true
    # 返回null字段
    call-setters-on-nulls: true

  # 分页插件配置
  pagehelper:
    helper-dialect: mysql
    reasonable: true
    support-methods-arguments: true

# 最简SpringDoc配置
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html  # Swagger UI地址

